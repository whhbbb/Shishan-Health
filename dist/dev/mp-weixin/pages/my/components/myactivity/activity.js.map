{"version":3,"file":"activity.js","sources":["../../../../../../../src/pages/my/components/myactivity/activity.vue","../../../../../../../uniPage:/cGFnZXMvbXkvY29tcG9uZW50cy9teWFjdGl2aXR5L2FjdGl2aXR5LnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"container\" v-if=\"isPastTargetDate\">\r\n    <scroll-view \r\n      scroll-x\r\n      class=\"nav\"\r\n      :scroll-left=\"navScrollLeft\"\r\n      scroll-with-animation=\"true\"\r\n    >\r\n      <view\r\n        v-for=\"(navItem, id) in navData\"\r\n        :key=\"id\"\r\n        class=\"nav-item\"\r\n        :class=\"{ active: currentTab === id }\"\r\n        @click=\"switchNav(id)\"\r\n      >\r\n        {{ navItem.text }}\r\n      </view>\r\n    </scroll-view>\r\n    <swiper\r\n      :current=\"currentTab\"\r\n      duration=\"300\"\r\n      @change=\"switchTab\"\r\n    >\r\n      <swiper-item v-for=\"(tabItem,id) in navData\" :key=\"id\" class=\"content\">\r\n        <Details :state=\"id\"></Details>\r\n      </swiper-item>\r\n    </swiper>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Details from './components/Details.vue'\r\nimport { onLoad, onShow } from '@dcloudio/uni-app'\r\nimport { onMounted, ref } from 'vue'\r\nimport { getAudit } from '@/services/Audit'\r\n\r\nexport default {\r\n  components: {\r\n    Details\r\n  },\r\n  setup() {\r\n    const isPastTargetDate = ref(false)\r\n    const navScrollLeft = ref(0)\r\n    const screenW = ref()\r\n    const currentTab = ref(0)\r\n    const navData = ref([{ tab: 0, text: '我参加的' }, { tab: 1, text: '我发布的' }])\r\n    const singleNavWidth = ref()\r\n    const refreshTag=ref(false)\r\n\r\n\r\n    const switchNav = (id: any) => {\r\n      singleNavWidth.value = screenW.value / 2\r\n      navScrollLeft.value = (id - 2) * singleNavWidth.value\r\n      currentTab.value = id\r\n    }\r\n\r\n    const switchTab = (e: any) => {\r\n      currentTab.value = e.detail.current\r\n      switchNav(e.detail.current)\r\n    }\r\n\r\n    const getA = async () => {\r\n      const res = await getAudit()\r\n      isPastTargetDate.value = res.data\r\n    }\r\n\r\n    onMounted(() => {\r\n      wx.getSystemInfo({\r\n        success: (res) => {\r\n          screenW.value = res.windowWidth\r\n          singleNavWidth.value = screenW.value / 2\r\n          navScrollLeft.value = (currentTab.value - 2) * singleNavWidth.value\r\n          // switchNav(state)\r\n          uni.$on('backPageData',function(data){\r\n            switchNav(data.state);\r\n            refreshTag.value=true;\r\n          })\r\n        }\r\n      })\r\n    })\r\n\r\n    onShow(() => {\r\n      getA()\r\n    })\r\n\r\n    onMounted(() => {\r\n      getA()\r\n    })\r\n\r\n    return {\r\n      isPastTargetDate,\r\n      navScrollLeft,\r\n      screenW,\r\n      currentTab,\r\n      navData,\r\n      singleNavWidth,\r\n      switchNav,\r\n      switchTab,\r\n      getA\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.container {\r\n  width: 100%;\r\n  height: 100vh;\r\n  padding-top: 7vh;\r\n}\r\n.nav {\r\n  /* 设置tab-nav宽高度 */\r\n  height: 7vh;\r\n  width: 100%;\r\n\r\n  /* 假如您需要并排放置两个带边框的框，\r\n  可通过将 box-sizing 设置为 \"border-box\"。 */\r\n  box-sizing: border-box;\r\n\r\n  overflow: hidden;\r\n\r\n  /* 居中 */\r\n  line-height: 7vh;\r\n\r\n  background: #f7f7f7;\r\n\r\n  font-size: 32rpx;\r\n\r\n  /* 规定段落中的文本不进行换行： */\r\n  white-space: nowrap;\r\n\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 99;\r\n}\r\n\r\n.nav-item {\r\n  width: 50%;\r\n  display: inline-block;\r\n  text-align: center;\r\n}\r\n\r\n.nav-item.active {\r\n  color: #428ffb;\r\n}\r\n.content {\r\n  overflow-y: scroll;\r\n}\r\n</style>","import MiniProgramPage from '/Users/whhbbb/Documents/Project-storage/xswc_game/src/pages/my/components/myactivity/activity.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","getAudit","onMounted","wx","uni","onShow"],"mappings":";;;;;;AA+BA,MAAA,UAAoB,MAAA;AAKpB,MAAe,YAAA;AAAA,EACb,YAAY;AAAA,IACV;AAAA,EACF;AAAA,EACA,QAAQ;AACA,UAAA,mBAAmBA,kBAAI,KAAK;AAC5B,UAAA,gBAAgBA,kBAAI,CAAC;AAC3B,UAAM,UAAUA,cAAAA;AACV,UAAA,aAAaA,kBAAI,CAAC;AACxB,UAAM,UAAUA,cAAA,IAAI,CAAC,EAAE,KAAK,GAAG,MAAM,OAAO,GAAG,EAAE,KAAK,GAAG,MAAM,OAAA,CAAQ,CAAC;AACxE,UAAM,iBAAiBA,cAAAA;AACjB,UAAA,aAAWA,kBAAI,KAAK;AAGpB,UAAA,YAAY,CAAC,OAAY;AACd,qBAAA,QAAQ,QAAQ,QAAQ;AACzB,oBAAA,SAAS,KAAK,KAAK,eAAe;AAChD,iBAAW,QAAQ;AAAA,IAAA;AAGf,UAAA,YAAY,CAAC,MAAW;AACjB,iBAAA,QAAQ,EAAE,OAAO;AAClB,gBAAA,EAAE,OAAO,OAAO;AAAA,IAAA;AAG5B,UAAM,OAAO,YAAY;AACjB,YAAA,MAAM,MAAMC,eAAAA;AAClB,uBAAiB,QAAQ,IAAI;AAAA,IAAA;AAG/BC,kBAAAA,UAAU,MAAM;AACdC,oBAAAA,KAAG,cAAc;AAAA,QACf,SAAS,CAAC,QAAQ;AAChB,kBAAQ,QAAQ,IAAI;AACL,yBAAA,QAAQ,QAAQ,QAAQ;AACvC,wBAAc,SAAS,WAAW,QAAQ,KAAK,eAAe;AAE1DC,wBAAAA,MAAA,IAAI,gBAAe,SAAS,MAAK;AACnC,sBAAU,KAAK,KAAK;AACpB,uBAAW,QAAM;AAAA,UAAA,CAClB;AAAA,QACH;AAAA,MAAA,CACD;AAAA,IAAA,CACF;AAEDC,kBAAAA,OAAO,MAAM;AACN;IAAA,CACN;AAEDH,kBAAAA,UAAU,MAAM;AACT;IAAA,CACN;AAEM,WAAA;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,EAEJ;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpGA,GAAG,WAAW,eAAe;"}