{"version":3,"file":"history.js","sources":["../../../../../../src/pages/my/components/history.vue","../../../../../../uniPage:/cGFnZXMvbXkvY29tcG9uZW50cy9oaXN0b3J5LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"noHistory\" v-if=\"history.length == 0\">\n    <view class=\"noH\">暂无记录……</view>\n  </view>\n  <view v-else>\n    <uni-list v-for=\"(item, index) in history\" :key=\"index\">\n      <uni-list-item\n        :title=\"item.creditNum > 0 ? '+' + item.creditNum : item.creditNum\"\n        :note=\"item.createTime\"\n        :rightText=\"CType(item.creditType)\"\n        style=\"padding: 2vh 0\"\n      >\n        <template v-slot:header>\n          <uni-icons\n            v-if=\"item.creditType == 2\"\n            style=\"margin-right: 2vw\"\n            class=\"icons\"\n            type=\"flag-filled\"\n            color=\"#92aff0\"\n            size=\"25\"\n          ></uni-icons>\n          <uni-icons\n            v-else-if=\"item.creditType == 3\"\n            style=\"margin-right: 2vw\"\n            class=\"icons\"\n            type=\"chatboxes-filled\"\n            color=\"#f1e9e4\"\n            size=\"25\"\n          ></uni-icons>\n          <uni-icons\n            v-else-if=\"item.creditType == 4\"\n            style=\"margin-right: 2vw\"\n            class=\"icons\"\n            type=\"hand-up-filled\"\n            color=\"#c5daf0\"\n            size=\"25\"\n          ></uni-icons>\n          <uni-icons\n            v-else\n            style=\"margin-right: 2vw\"\n            class=\"icons\"\n            type=\"gift-filled\"\n            color=\"#f5c7c3\"\n            size=\"25\"\n          ></uni-icons>\n        </template>\n      </uni-list-item>\n    </uni-list>\n  </view>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive } from 'vue'\nimport { onLoad, onShow } from '@dcloudio/uni-app'\n\nimport { getCreidHistory } from '@/services/gift'\nconst getCreditH = async () => {\n  const res = await getCreidHistory()\n  console.log(res.rows)\n  history.value = res.rows\n}\nconst history = ref([])\nonLoad(() => {\n  if (!uni.getStorageSync('token')) {\n    uni.showToast({\n      title: '您未登录！',\n      icon: 'none',\n      duration: 1000,\n    })\n    return\n  }\n  getCreditH()\n})\nonShow(() => {\n  if (!uni.getStorageSync('token')) {\n    uni.showToast({\n      title: '您未登录！',\n      icon: 'none',\n      duration: 1000,\n    })\n    return\n  }\n})\nconst CType = (n) => {\n  if (n == 2) {\n    return '参加活动'\n  } else if (n == 3) {\n    return '意见反馈'\n  } else if (n == 4) {\n    return '推荐活动'\n  } else {\n    return '积分兑换'\n  }\n}\n</script>\n\n<style>\n.noHistory {\n  display: flex;\n  justify-content: space-around;\n  height: 100vh;\n  box-shadow: inset 2px 2px 4px rgb(0, 0, 0, 0.1);\n  background-color: rgba(0, 0, 0, 0.1);\n}\n.noH {\n  color: #000;\n  margin: auto;\n}\n</style>\n","import MiniProgramPage from '/Users/whhbbb/Documents/Project-storage/xswc_game/src/pages/my/components/history.vue'\nwx.createPage(MiniProgramPage)"],"names":["getCreidHistory","ref","onLoad","uni","onShow"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAwDA,UAAM,aAAa,YAAY;AACvB,YAAA,MAAM,MAAMA,cAAAA;AACV,cAAA,IAAI,IAAI,IAAI;AACpB,cAAQ,QAAQ,IAAI;AAAA,IAAA;AAEhB,UAAA,UAAUC,kBAAI,CAAA,CAAE;AACtBC,kBAAAA,OAAO,MAAM;AACX,UAAI,CAACC,cAAA,MAAI,eAAe,OAAO,GAAG;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,UACN,UAAU;AAAA,QAAA,CACX;AACD;AAAA,MACF;AACW;IAAA,CACZ;AACDC,kBAAAA,OAAO,MAAM;AACX,UAAI,CAACD,cAAA,MAAI,eAAe,OAAO,GAAG;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,UACN,UAAU;AAAA,QAAA,CACX;AACD;AAAA,MACF;AAAA,IAAA,CACD;AACK,UAAA,QAAQ,CAAC,MAAM;AACnB,UAAI,KAAK,GAAG;AACH,eAAA;AAAA,MAAA,WACE,KAAK,GAAG;AACV,eAAA;AAAA,MAAA,WACE,KAAK,GAAG;AACV,eAAA;AAAA,MAAA,OACF;AACE,eAAA;AAAA,MACT;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3FF,GAAG,WAAW,eAAe;"}