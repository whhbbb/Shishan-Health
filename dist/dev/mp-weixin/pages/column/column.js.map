{"version":3,"file":"column.js","sources":["../../../../../src/pages/column/column.vue","../../../../../uniPage:/cGFnZXMvY29sdW1uL2NvbHVtbi52dWU"],"sourcesContent":["<template>\n  <view class=\"container\" v-if=\"isPastTargetDate\">\n    <scroll-view\n      scroll-x=\"true\"\n      class=\"nav\"\n      :scroll-left=\"navScrollLeft\"\n      scroll-with-animation=\"true\"\n    >\n      <view\n        v-for=\"(navItem, id) in navData\"\n        :key=\"id\"\n        class=\"nav-item\"\n        :class=\"{ active: currentTab === id }\"\n        @click=\"switchNav(id)\"\n      >\n        {{ navItem.text }}\n      </view>\n    </scroll-view>\n\n    <swiper :current=\"currentTab\" duration=\"300\" @change=\"switchTab\" class=\"main\">\n      <swiper-item v-for=\"(tabItem, id) in tabData\" :key=\"id\" class=\"content\">\n        <view v-if=\"id === 0\" class=\"Moments\">\n          <news-item :kind=\"1\"></news-item>\n        </view>\n\n        <view v-else-if=\"id === 1\" class=\"Times\">\n          <news-item :kind=\"2\"></news-item>\n        </view>\n      </swiper-item>\n    </swiper>\n  </view>\n</template>\n<script>\nimport newsItem from './components/newsItem.vue'\nimport { onLoad, onShow } from '@dcloudio/uni-app'\nimport { ref, computed, onMounted } from 'vue'\nimport { getAudit } from '@/services/Audit'\nexport default {\n  components: {\n    newsItem,\n  },\n  setup() {\n    const showMoments = ref(true)\n\n    // const isShowMoments = () => {\n    //   showMoments.value = true\n    //   console.log(showMoments.value)\n    // }\n\n    // const isShowTimes = () => {\n    //   showMoments.value = false\n    //   console.log(showMoments.value)\n    // }\n\n    const isPastTargetDate = ref(false)\n    const navScrollLeft = ref(0)\n    const screenW = ref()\n    const currentTab = ref(0)\n    const navData = ref([{ text: '精彩瞬间' }, { text: '科普时间' }])\n    const tabData = ref([0, 1])\n    const singleNavWidth = ref()\n\n    const switchNav = (idx) => {\n      console.log(idx)\n      singleNavWidth.value = screenW.value / 2\n      navScrollLeft.value = (idx - 2) * singleNavWidth.value\n      if (currentTab.value === idx) {\n        return false\n      } else {\n        currentTab.value = idx\n      }\n    }\n\n    const switchTab = (e) => {\n      const cur = e.detail.current\n      singleNavWidth.value = screenW.value / 2\n      currentTab.value = cur\n      console.log(currentTab.value)\n      navScrollLeft.value = (cur - 2) * singleNavWidth.value\n    }\n\n    const getA = async () => {\n      const res = await getAudit()\n      console.log(res)\n      isPastTargetDate.value = res.data\n    }\n    onShow(() => {\n      console.log('column!!!')\n      getA()\n      uni.switchTab({\n        url: '/pages/column/column',\n      })\n    })\n    onMounted(() => {\n      getA()\n      wx.getSystemInfo({\n        success(res) {\n          screenW.value = res.windowWidth\n          console.log(res.windowWidth) // 屏幕宽度\n          singleNavWidth.value = res.windowWidth / 2\n          navScrollLeft.value = (currentTab.value - 2) * singleNavWidth.value\n        },\n      })\n    })\n\n    return {\n      showMoments,\n      isPastTargetDate,\n      navScrollLeft,\n      screenW,\n      navData,\n      tabData,\n      singleNavWidth,\n      switchNav,\n      switchTab,\n      currentTab,\n    }\n  },\n}\n//\n</script>\n<style lang=\"scss\">\n.container {\n  width: 100%;\n  height: 100vh;\n  padding-top: 7vh;\n}\n.nav {\n  /* 设置tab-nav宽高度 */\n  height: 7vh;\n  width: 100%;\n\n  /* 假如您需要并排放置两个带边框的框，\n  可通过将 box-sizing 设置为 \"border-box\"。 */\n  box-sizing: border-box;\n\n  overflow: hidden;\n\n  /* 居中 */\n  line-height: 7vh;\n\n  background: #f7f7f7;\n\n  font-size: 32rpx;\n\n  /* 规定段落中的文本不进行换行： */\n  white-space: nowrap;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 99;\n}\n\n.nav-item {\n  width: 50%;\n  display: inline-block;\n  text-align: center;\n}\n\n.nav-item.active {\n  color: #428ffb;\n}\n.content {\n  overflow-y: scroll;\n}\n</style>\n","import MiniProgramPage from '/Users/whhbbb/Documents/Project-storage/xswc_game/src/pages/column/column.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","getAudit","onShow","uni","onMounted","wx"],"mappings":";;;;;;AAiCA,MAAO,WAAU,MAAW;AAI5B,MAAK,YAAU;AAAA,EACb,YAAY;AAAA,IACV;AAAA,EACD;AAAA,EACD,QAAQ;AACN,UAAM,cAAcA,cAAG,IAAC,IAAI;AAY5B,UAAM,mBAAmBA,cAAG,IAAC,KAAK;AAClC,UAAM,gBAAgBA,cAAG,IAAC,CAAC;AAC3B,UAAM,UAAUA,cAAAA,IAAI;AACpB,UAAM,aAAaA,cAAG,IAAC,CAAC;AACxB,UAAM,UAAUA,kBAAI,CAAC,EAAE,MAAM,UAAU,EAAE,MAAM,OAAK,CAAG,CAAC;AACxD,UAAM,UAAUA,cAAG,IAAC,CAAC,GAAG,CAAC,CAAC;AAC1B,UAAM,iBAAiBA,cAAAA,IAAI;AAE3B,UAAM,YAAY,CAAC,QAAQ;AACzB,cAAQ,IAAI,GAAG;AACf,qBAAe,QAAQ,QAAQ,QAAQ;AACvC,oBAAc,SAAS,MAAM,KAAK,eAAe;AACjD,UAAI,WAAW,UAAU,KAAK;AAC5B,eAAO;AAAA,aACF;AACL,mBAAW,QAAQ;AAAA,MACrB;AAAA,IACF;AAEA,UAAM,YAAY,CAAC,MAAM;AACvB,YAAM,MAAM,EAAE,OAAO;AACrB,qBAAe,QAAQ,QAAQ,QAAQ;AACvC,iBAAW,QAAQ;AACnB,cAAQ,IAAI,WAAW,KAAK;AAC5B,oBAAc,SAAS,MAAM,KAAK,eAAe;AAAA,IACnD;AAEA,UAAM,OAAO,YAAY;AACvB,YAAM,MAAM,MAAMC,wBAAS;AAC3B,cAAQ,IAAI,GAAG;AACf,uBAAiB,QAAQ,IAAI;AAAA,IAC/B;AACAC,kBAAAA,OAAO,MAAM;AACX,cAAQ,IAAI,WAAW;AACvB,WAAK;AACLC,oBAAAA,MAAI,UAAU;AAAA,QACZ,KAAK;AAAA,OACN;AAAA,KACF;AACDC,kBAAAA,UAAU,MAAM;AACd,WAAK;AACLC,oBAAAA,KAAG,cAAc;AAAA,QACf,QAAQ,KAAK;AACX,kBAAQ,QAAQ,IAAI;AACpB,kBAAQ,IAAI,IAAI,WAAW;AAC3B,yBAAe,QAAQ,IAAI,cAAc;AACzC,wBAAc,SAAS,WAAW,QAAQ,KAAK,eAAe;AAAA,QAC/D;AAAA,OACF;AAAA,KACF;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACD;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrHA,GAAG,WAAW,eAAe;"}