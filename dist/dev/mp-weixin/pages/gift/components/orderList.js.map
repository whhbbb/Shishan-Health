{"version":3,"file":"orderList.js","sources":["../../../../../../src/pages/gift/components/orderList.vue","../../../../../../uniPage:/cGFnZXMvZ2lmdC9jb21wb25lbnRzL29yZGVyTGlzdC52dWU"],"sourcesContent":["<template>\n  <view v-if=\"isLogin\" class=\"order-list\">\n    <view v-if=\"orders.length !== 0\" v-for=\"order in orders\" :key=\"order.id\" class=\"order-item\">\n      <view class=\"inner-top\">\n        <image :src=\"order.coverPicture\" class=\"order-image\" />\n        <view class=\"order-content1\">\n          <text class=\"order-name\">{{ order.name }}</text>\n          <text class=\"order-time\">{{ order.createTime }}</text>\n        </view>\n        <view class=\"order-content2\">\n          <view class=\"order-amount\">\n            <image\n              class=\"order-content-image\"\n              src=\"../../../static/gifts/score.png\"\n              mode=\"scaleToFill\"\n            />\n            <text>{{ order.total }}</text>\n          </view>\n          <text class=\"order-time\">x{{ order.nums }}</text>\n        </view>\n      </view>\n      <view class=\"inner-bottom\">\n        <view v-if=\"order.state == 1\" class=\"order-status\">\n          <image\n            class=\"status-img\"\n            src=\"../../../static/gifts/not-get.png\"\n            mode=\"scaleToFill\"\n          />\n          未领取</view>\n        <view v-else class=\"order-status\">\n          <image\n            class=\"status-img\"\n            src=\"../../../static/gifts/get.png\"\n            mode=\"scaleToFill\"\n          />\n          已领取</view>\n      </view>\n    </view>\n    <view class=\"noLogin\" v-else>\n      <uni-icons type=\"wallet\" size=\"90\"></uni-icons>\n      <view>兑换记录为空</view>\n    </view>\n  </view>\n  <view class=\"noLogin\" v-else>\n    <uni-icons type=\"person\" size=\"90\"></uni-icons>\n    <view @click=\"goLogin\">尚未登陆 , 点击登录</view>\n  </view>\n</template>\n\n<script setup lang=\"ts\">\nimport { getGiftHistory } from '@/services/gift'\nimport { onLoad, onShow } from '@dcloudio/uni-app'\nimport { ref } from 'vue'\nonLoad(() => {\n  console.log('onload??')\n  if (uni.getStorageSync('token')) {\n    getHistory()\n  } else {\n    isLogin.value = false\n  }\n})\nonShow(() => {\n  if (uni.getStorageSync('token')) {\n    getHistory()\n  }\n})\nconst isLogin = ref<boolean>(true)\nconst goLogin = () => {\n  uni.navigateTo({\n    url: '/pages/login/login',\n  })\n}\nconst getHistory = async () => {\n  const res = await getGiftHistory()\n  console.log(res)\n  orders.value = res.rows\n}\nconst orders = ref([])\n</script>\n\n<style lang=\"scss\">\n.order-list {\n  width: 100%;\n  margin: 0 auto;\n  padding: 50rpx;\n\n  .order-item {\n    display: flex;\n    flex-direction: column;\n    padding: 15rpx;\n    padding-bottom: 30rpx;\n    margin-bottom: 2vh;\n    border-bottom: 1px solid #f0f0f0;\n\n    .inner-top {\n      display: flex;\n\n      .order-image {\n        width: 100rpx;\n        height: 100rpx;\n        margin-right: 15rpx;\n        border-radius: 15rpx;\n      }\n\n      .order-content1 {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n        .order-name{\n          font-size: 32rpx;\n          font-weight: bold;\n          color: #333;\n        }\n        .order-time{\n          font-size: 24rpx;\n          color: #666;\n        }\n      }\n      .order-content2{\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        align-items: flex-end;\n        .order-amount{\n          display: flex;\n          align-items: center;\n          font-size: 35rpx;\n          font-weight: bold;\n          .order-content-image{\n            width: 35rpx;\n            height: 35rpx;\n            margin-right: 10rpx;\n          }\n        }\n        .order-time{\n          font-size: 24rpx;\n          color: #666;\n        }\n      }\n\n    }\n    .inner-bottom{\n      margin-top: 15rpx;\n      padding: 10rpx;\n      background-color: rgb(243, 245, 246);\n      border-radius: 8rpx;\n      font-size: 26rpx;\n      .order-status{\n        display: flex;\n        align-items: center;\n        .status-img{\n          width: 30rpx;\n          height: 30rpx;\n          margin-right: 10rpx;\n        }\n      }\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/whhbbb/Documents/Project-storage/xswc_game/src/pages/gift/components/orderList.vue'\nwx.createPage(MiniProgramPage)"],"names":["onLoad","uni","onShow","ref","getGiftHistory"],"mappings":";;;;;;;;;;;;;;;;;AAqDAA,kBAAAA,OAAO,MAAM;AACX,cAAQ,IAAI,UAAU;AAClB,UAAAC,cAAA,MAAI,eAAe,OAAO,GAAG;AACpB;MAAA,OACN;AACL,gBAAQ,QAAQ;AAAA,MAClB;AAAA,IAAA,CACD;AACDC,kBAAAA,OAAO,MAAM;AACP,UAAAD,cAAA,MAAI,eAAe,OAAO,GAAG;AACpB;MACb;AAAA,IAAA,CACD;AACK,UAAA,UAAUE,kBAAa,IAAI;AACjC,UAAM,UAAU,MAAM;AACpBF,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MAAA,CACN;AAAA,IAAA;AAEH,UAAM,aAAa,YAAY;AACvB,YAAA,MAAM,MAAMG,cAAAA;AAClB,cAAQ,IAAI,GAAG;AACf,aAAO,QAAQ,IAAI;AAAA,IAAA;AAEf,UAAA,SAASD,kBAAI,CAAA,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5ErB,GAAG,WAAW,eAAe;"}