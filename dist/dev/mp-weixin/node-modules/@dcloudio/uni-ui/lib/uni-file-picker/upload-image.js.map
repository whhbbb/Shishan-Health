{"version":3,"file":"upload-image.js","sources":["../../../../../../../../node_modules/@dcloudio/uni-ui/lib/uni-file-picker/upload-image.vue","../../../../../../../../uniComponent:/RDovZmVpZGlhbi_orqHnrpfmnLrorr7orqHlpKfotZsveHN3Y19jcy9ub2RlX21vZHVsZXMvQGRjbG91ZGlvL3VuaS11aS9saWIvdW5pLWZpbGUtcGlja2VyL3VwbG9hZC1pbWFnZS52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"uni-file-picker__container\">\n\t\t<view class=\"file-picker__box\" v-for=\"(item,index) in filesList\" :key=\"index\" :style=\"boxStyle\">\n\t\t\t<view class=\"file-picker__box-content\" :style=\"borderStyle\">\n\t\t\t\t<image class=\"file-image\" :src=\"item.url\" mode=\"aspectFill\" @click.stop=\"prviewImage(item,index)\"></image>\r\n\t\t\t\t<view v-if=\"delIcon && !readonly\" class=\"icon-del-box\" @click.stop=\"delFile(index)\">\r\n\t\t\t\t\t<view class=\"icon-del\"></view>\r\n\t\t\t\t\t<view class=\"icon-del rotate\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"(item.progress && item.progress !== 100) ||item.progress===0 \" class=\"file-picker__progress\">\r\n\t\t\t\t\t<progress class=\"file-picker__progress-item\" :percent=\"item.progress === -1?0:item.progress\" stroke-width=\"4\"\r\n\t\t\t\t\t :backgroundColor=\"item.errMsg?'#ff5a5f':'#EBEBEB'\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"item.errMsg\" class=\"file-picker__mask\" @click.stop=\"uploadFiles(item,index)\">\r\n\t\t\t\t\t点击重试\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"filesList.length < limit && !readonly\" class=\"file-picker__box\" :style=\"boxStyle\">\r\n\t\t\t<view class=\"file-picker__box-content is-add\" :style=\"borderStyle\" @click=\"choose\">\r\n\t\t\t\t<slot>\r\n\t\t\t\t\t<view class=\"icon-add\"></view>\r\n\t\t\t\t\t<view class=\"icon-add rotate\"></view>\r\n\t\t\t\t</slot>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"uploadImage\",\r\n\t\temits:['uploadFiles','choose','delFile'],\r\n\t\tprops: {\r\n\t\t\tfilesList: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t},\n\t\t\tdisabled:{\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\r\n\t\t\tdisablePreview: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tlimit: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: 9\r\n\t\t\t},\r\n\t\t\timageStyles: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: 'auto',\r\n\t\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\t\tborder: {}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdelIcon: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\n\t\t\treadonly:{\n\t\t\t\ttype:Boolean,\n\t\t\t\tdefault:false\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tstyles() {\r\n\t\t\t\tlet styles = {\r\n\t\t\t\t\twidth: 'auto',\r\n\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\tborder: {}\r\n\t\t\t\t}\r\n\t\t\t\treturn Object.assign(styles, this.imageStyles)\r\n\t\t\t},\r\n\t\t\tboxStyle() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\twidth = 'auto',\r\n\t\t\t\t\t\theight = 'auto'\r\n\t\t\t\t} = this.styles\r\n\t\t\t\tlet obj = {}\r\n\t\t\t\tif (height === 'auto') {\r\n\t\t\t\t\tif (width !== 'auto') {\r\n\t\t\t\t\t\tobj.height = this.value2px(width)\r\n\t\t\t\t\t\tobj['padding-top'] = 0\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj.height = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.height = this.value2px(height)\r\n\t\t\t\t\tobj['padding-top'] = 0\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (width === 'auto') {\r\n\t\t\t\t\tif (height !== 'auto') {\r\n\t\t\t\t\t\tobj.width = this.value2px(height)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj.width = '33.3%'\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.width = this.value2px(width)\r\n\t\t\t\t}\n\n\t\t\t\tlet classles = ''\n\t\t\t\tfor(let i in obj){\n\t\t\t\t\tclassles+= `${i}:${obj[i]};`\n\t\t\t\t}\n\t\t\t\treturn classles\r\n\t\t\t},\r\n\t\t\tborderStyle() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tborder\r\n\t\t\t\t} = this.styles\r\n\t\t\t\tlet obj = {}\n\t\t\t\tconst widthDefaultValue = 1\n\t\t\t\tconst radiusDefaultValue = 3\r\n\t\t\t\tif (typeof border === 'boolean') {\r\n\t\t\t\t\tobj.border = border ? '1px #eee solid' : 'none'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet width = (border && border.width) || widthDefaultValue\r\n\t\t\t\t\twidth = this.value2px(width)\r\n\t\t\t\t\tlet radius = (border && border.radius) || radiusDefaultValue\r\n\t\t\t\t\tradius = this.value2px(radius)\r\n\t\t\t\t\tobj = {\r\n\t\t\t\t\t\t'border-width': width,\r\n\t\t\t\t\t\t'border-style': (border && border.style) || 'solid',\r\n\t\t\t\t\t\t'border-color': (border && border.color) || '#eee',\r\n\t\t\t\t\t\t'border-radius': radius\r\n\t\t\t\t\t}\r\n\t\t\t\t}\n\t\t\t\tlet classles = ''\n\t\t\t\tfor(let i in obj){\n\t\t\t\t\tclassles+= `${i}:${obj[i]};`\n\t\t\t\t}\r\n\t\t\t\treturn classles\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tuploadFiles(item, index) {\r\n\t\t\t\tthis.$emit(\"uploadFiles\", item)\r\n\t\t\t},\r\n\t\t\tchoose() {\r\n\t\t\t\tthis.$emit(\"choose\")\r\n\t\t\t},\r\n\t\t\tdelFile(index) {\r\n\t\t\t\tthis.$emit('delFile', index)\r\n\t\t\t},\r\n\t\t\tprviewImage(img, index) {\r\n\t\t\t\tlet urls = []\n\t\t\t\tif(Number(this.limit) === 1&&this.disablePreview&&!this.disabled){\n\t\t\t\t\tthis.$emit(\"choose\")\n\t\t\t\t}\r\n\t\t\t\tif(this.disablePreview) return\n\t\t\t\tthis.filesList.forEach(i => {\r\n\t\t\t\t\turls.push(i.url)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: urls,\r\n\t\t\t\t\tcurrent: index\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tvalue2px(value) {\r\n\t\t\t\tif (typeof value === 'number') {\r\n\t\t\t\t\tvalue += 'px'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (value.indexOf('%') === -1) {\r\n\t\t\t\t\t\tvalue = value.indexOf('px') !== -1 ? value : value + 'px'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn value\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.uni-file-picker__container {\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\tbox-sizing: border-box;\n\t\t/* #endif */\r\n\t\tflex-wrap: wrap;\r\n\t\tmargin: -5px;\r\n\t}\r\n\r\n\t.file-picker__box {\r\n\t\tposition: relative;\r\n\t\t// flex: 0 0 33.3%;\r\n\t\twidth: 33.3%;\r\n\t\theight: 0;\r\n\t\tpadding-top: 33.33%;\n\t\t/* #ifndef APP-NVUE */\r\n\t\tbox-sizing: border-box;\n\t\t/* #endif */\r\n\t}\r\n\r\n\t.file-picker__box-content {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tmargin: 5px;\r\n\t\tborder: 1px #eee solid;\r\n\t\tborder-radius: 5px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.file-picker__progress {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\t/* border: 1px red solid; */\r\n\t\tz-index: 2;\r\n\t}\r\n\r\n\t.file-picker__progress-item {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.file-picker__mask {\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\n\t\t/* #endif */\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 12px;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\t}\r\n\r\n\t.file-image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.is-add {\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\n\t\t/* #endif */\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.icon-add {\r\n\t\twidth: 50px;\r\n\t\theight: 5px;\r\n\t\tbackground-color: #f1f1f1;\r\n\t\tborder-radius: 2px;\r\n\t}\r\n\r\n\t.rotate {\r\n\t\tposition: absolute;\r\n\t\ttransform: rotate(90deg);\r\n\t}\r\n\r\n\t.icon-del-box {\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\n\t\t/* #endif */\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tposition: absolute;\r\n\t\ttop: 3px;\r\n\t\tright: 3px;\r\n\t\theight: 26px;\r\n\t\twidth: 26px;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t\tz-index: 2;\r\n\t\ttransform: rotate(-45deg);\r\n\t}\r\n\r\n\t.icon-del {\r\n\t\twidth: 15px;\r\n\t\theight: 2px;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 2px;\r\n\t}\r\n</style>\n","import Component from 'D:/feidian/计算机设计大赛/xswc_cs/node_modules/@dcloudio/uni-ui/lib/uni-file-picker/upload-image.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":"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","x_google_ignoreList":[0]}